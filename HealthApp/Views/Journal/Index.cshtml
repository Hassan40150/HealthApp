@model HealthApp.ViewModels.JournalViewModel

@{
    ViewData["Title"] = "Journal";
}

<h1>@ViewData["Title"]</h1>

<!-- Entries List -->
<div id="entriesContainer">
    @foreach (var entry in Model.Entries)
    {
        <div class="journal-entry">
            <div><b>@entry.Timestamp.ToString("yyyy-MM-dd HH:mm")</b></div>
            <div>@entry.Entry</div>
            <hr />
        </div>
    }
</div>

<!-- Plus Button -->
<button id="addEntryButton" style="position: fixed; bottom: 20px; right: 20px; font-size: 24px;">
    +
</button>

<!-- Modal -->
<div id="entryModal" style="display: none; position: fixed; top: 20%; left: 50%; transform: translateX(-50%); background: white; padding: 20px; border: 1px solid black;">
    <textarea id="entryText" maxlength="280" rows="5" style="width: 100%;"></textarea>
    <div>
        <button id="submitEntryButton">Submit</button>
        <button id="closeModalButton">Close</button>
    </div>
</div>

<!-- JavaScript -->
<script src="~/js/journal.js"></script>

<script>
    document.getElementById('addEntryButton').addEventListener('click', function () {
        document.getElementById('entryModal').style.display = 'block';
    });

    document.getElementById('closeModalButton').addEventListener('click', function () {
        document.getElementById('entryModal').style.display = 'none';
    });
</script>
